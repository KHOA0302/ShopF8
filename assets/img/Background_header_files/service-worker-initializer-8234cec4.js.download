(window.webpackJsonp=window.webpackJsonp||[]).push([["be95"],{"1Fup":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var i=n("xk4V"),r=n.n(i),a=n("qJkm"),o=n("Jhmp"),s=n("hwnc");const c=Object(s.a)("Push:Device Id",Object(s.b)("#b95f6f","#fff"));function u(){return a.a.current().id}function d(){return Object(o.a)("airbnb_push_notifications","push_token_id").then(e=>{if(!e)return;const[t,n]=e.split(":");return{userId:+t,deviceId:n}})}function l(e,t){return!(null==t||!t.deviceId||(null==t?void 0:t.userId)!==e)}async function p(){const e=u();return!!e&&l(e,await d())}async function f(e){const t=e||u();if(!t){const e="Cannot create device id with no user id";throw c(()=>e),new Error(e)}const n=await d(),i=null==n?void 0:n.deviceId;if(i&&l(t,n))return c(()=>`Using "${i}" as stored device push id`),i;const a=r()();return Object(o.b)("airbnb_push_notifications","push_token_id",function({deviceId:e,userId:t}){return`${t}:${e}`}({deviceId:a,userId:t})),a}},"6xUb":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("acAX");function r(e){let t="unknown";return Object(i.d)()?t="android":Object(i.h)()&&(t="ios"),["os:"+t,"browser:"+Object(i.b)(),e].join(",")}},"8sS/":function(e,t,n){"use strict";n.r(t),n.d(t,"getInitializeOptions",(function(){return h})),n.d(t,"default",(function(){return b}));var i=n("ilXw"),r=n.n(i),a=n("ANar"),o=n("qJkm"),s=n("LrVU"),c=n("D/bq"),u=n("6xUb"),d=n("tpgv"),l=n("hlFt");let p,f,v;const g=new Promise(e=>{v=e});async function h(){if(!navigator||!navigator.serviceWorker)throw new Error("Push notifications requires a service worker to be available.");const e=await navigator.serviceWorker.ready;if(!e||!e.active)throw new Error("No service worker was activated, push notifications are not available.");if(await Promise.race([g,l.d.wait({delay:3e4})]),!f)throw new Error('Niobe client is required, did you call "initialize"?');const{tracking_context:t}=r.a.get("layout-init"),{controller:n}=t,i="homes-host-loop"===n?"GLOBAL_HOST":"GLOBAL_TRAVEL",a=e.active.scriptURL.split("/"),o="/"+a[a.length-1],s=Object(u.a)("registered_path:"+o);return{datadogTags:p?[p,s].join(","):s,appType:i,niobeClient:f,pushNotificationsKey:r.a.get("pushNotificationsKey"),serviceWorkerRegistration:e}}function b({datadogTags:e,niobeClient:t}){if("undefined"!=typeof Notification&&"denied"===Notification.permission&&Object(a.a)("service_worker.push_permission_denied",1,e),Object(s.a)()){p=e,f=t,v();try{if(!o.a.isLoggedIn())return void Object(c.a)();Object(c.d)()}catch(e){Object(d.b)(e)}}}},"D/bq":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return O}));var i=n("ilXw"),r=n.n(i),a=n("qJkm"),o=n("hwnc"),s=n("tpgv"),c=n("1Fup"),u=n("acAX");function d(){const{userAgent:e}=navigator;return Object(u.d)(e)?"ANDROID_VAPID":Object(u.k)(e)?"IPHONE_VAPID":Object(u.j)(e)?"IPAD_VAPID":"DESKTOP_VAPID"}var l=n("8sS/");const p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"SendPushTokenMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"PleiadesWriteTokenRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pleiades"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"writeToken"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"deviceId"},"arguments":[],"directives":[]}]}}]}}]}}],"operationType":"MUTATION"}');p.operationId="35f85d8e0ca316c774486242fa697b3b3dd26597467c7744cd45fc6d25282d1c",p.integrityHash="d1aedfbfd01e4cc1c5d61afd7a774f9229615ed2db5064b469e1e911f7f40e94";var f=p;const v=Object(o.a)("Push:Send Token",Object(o.b)("#b95f6f","#fff"));var g=n("LrVU"),h=n("TWzq");const b=Object(o.a)("Service Worker:Push Initializer",Object(o.b)("rebeccapurple","#fff")),w=Object(h.a)("Service Worker:Push Initializer","web_push");async function _(){if(!await Object(g.a)())return;const e=await Object(l.getInitializeOptions)(),{pushNotificationsKey:t,serviceWorkerRegistration:n}=e;try{let i=await n.pushManager.getSubscription();i||(i=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t}));const o=await async function(e){const{tracking_context:t={}}=r.a.get("layout-init"),{appType:n}=await Object(l.getInitializeOptions)(),i=a.a.current().id,o=await Object(c.a)(i);if(!i)throw new Error("Cannot make a token without a valid userId.");return{appType:n,appVersion:`${t.controller}:${t.version}`,buildType:"RELEASE",deviceType:d(),deviceVersion:navigator.userAgent,nativeDeviceId:o,timeStamp:String((new Date).getTime()),token:JSON.stringify(e),tokenType:"VAPID",userId:i}}(i),u=await async function(e){var t,n;const{niobeClient:i}=await Object(l.getInitializeOptions)(),{errors:r,data:a}=await i.mutate({mutation:f,variables:{request:e}});if(r&&r.length>0){var o,c;const t="Failed to send push token due to network error";v(()=>[t,r]);const n={extra:Object.assign({},r[0],e),fingerprint:["PushTokenUpdateFailure"]},i=new Error(null!==(o=null===(c=r[0])||void 0===c?void 0:c.message)&&void 0!==o?o:t);throw Object(s.b)(i,n),i}return v(()=>["Sent push token to upstream server",a]),null==a||null===(t=a.pleiades)||void 0===t||null===(n=t.writeToken)||void 0===n?void 0:n.deviceId}(o);return w({description:`Push notifications successfully initialized with key: "${t}".`,options:e,metric:"push_subscribe_success",metricPrefix:"service_worker"}),u}catch(t){w({options:e,metric:"push_subscribe_unknown_failure",metricPrefix:"service_worker"}),Object(s.b)(t,{fingerprint:null!=t&&t.message?["PushUnknownFailure",null==t?void 0:t.message]:void 0,originalError:t}),await k()}}async function m(){return await Object(c.b)()?_():(b(()=>"user has not opted in, attempt to find and clear invalid push subscription"),k())}async function y(){const{serviceWorkerRegistration:e}=await Object(l.getInitializeOptions)();return!!await Object(c.b)()&&!!await e.pushManager.getSubscription()}async function k(){const e=await Object(l.getInitializeOptions)(),{serviceWorkerRegistration:t}=e,n=await t.pushManager.getSubscription();if(!n)return!0;try{await n.unsubscribe()}catch(t){Object(s.b)(t,{originalError:t}),w({options:e,metric:"unsubscribe_failure"})}return b(()=>"Push subscription has been unsubscribed."),!0}async function O(){const e=await Object(l.getInitializeOptions)();if(!await Object(g.b)())return w({options:e,metric:"permission_denied"}),!1;if(w({options:e,metric:"permission_granted"}),await Object(c.b)())return w({description:"Using validated cached device id.",options:e,metric:"device_id_cached"}),await _(),!0;w({description:"Creating a new device id and push subscription.",options:e,metric:"no_device_id_cached"});try{await k()}finally{await _()}return!0}},EYUP:function(e,t,n){"use strict";n.r(t);try{self["workbox:window:6.1.1"]&&_()}catch(i){}function i(e,t){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[i.port2])}))}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.1.1"]&&_()}catch(i){}var s=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function c(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var u=function(e,t){this.type=e,Object.assign(this,t)};function d(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function l(){}var p={type:"SKIP_WAITING"};function f(e,t){if(!t)return e&&e.then?e.then(l):Promise.resolve()}var v=function(e){var t,n;function a(t,n){var i,r;return void 0===n&&(n={}),(i=e.call(this)||this).nn={},i.tn=0,i.rn=new s,i.en=new s,i.on=new s,i.un=0,i.an=new Set,i.cn=function(){var e=i.fn,t=e.installing;i.tn>0||!c(t.scriptURL,i.sn)||performance.now()>i.un+6e4?(i.vn=t,e.removeEventListener("updatefound",i.cn)):(i.hn=t,i.an.add(t),i.rn.resolve(t)),++i.tn,t.addEventListener("statechange",i.ln)},i.ln=function(e){var t=i.fn,n=e.target,r=n.state,a=n===i.vn,o={sw:n,isExternal:a,originalEvent:e};!a&&i.mn&&(o.isUpdate=!0),i.dispatchEvent(new u(r,o)),"installed"===r?i.wn=self.setTimeout((function(){"installed"===r&&t.waiting===n&&i.dispatchEvent(new u("waiting",o))}),200):"activating"===r&&(clearTimeout(i.wn),a||i.en.resolve(n))},i.dn=function(e){var t=i.hn;t===navigator.serviceWorker.controller&&(i.dispatchEvent(new u("controlling",{sw:t,originalEvent:e,isUpdate:i.mn})),i.on.resolve(t))},i.gn=(r=function(e){var t=e.data,n=e.source;return d(i.getSW(),(function(){i.an.has(n)&&i.dispatchEvent(new u("message",{data:t,sw:n,originalEvent:e}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(e){return Promise.reject(e)}}),i.sn=t,i.nn=n,navigator.serviceWorker.addEventListener("message",i.gn),i}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,v=a.prototype;return v.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var i=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return f(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return i.mn=Boolean(navigator.serviceWorker.controller),i.yn=i.pn(),d(i.bn(),(function(e){i.fn=e,i.yn&&(i.hn=i.yn,i.en.resolve(i.yn),i.on.resolve(i.yn),i.yn.addEventListener("statechange",i.ln,{once:!0}));var t=i.fn.waiting;return t&&c(t.scriptURL,i.sn)&&(i.hn=t,Promise.resolve().then((function(){i.dispatchEvent(new u("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),i.hn&&(i.rn.resolve(i.hn),i.an.add(i.hn)),i.fn.addEventListener("updatefound",i.cn),navigator.serviceWorker.addEventListener("controllerchange",i.dn,{once:!0}),i.fn}))}))}catch(e){return Promise.reject(e)}},v.update=function(){try{return this.fn?f(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},v.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},v.messageSW=function(e){try{return d(this.getSW(),(function(t){return i(t,e)}))}catch(e){return Promise.reject(e)}},v.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&i(this.fn.waiting,p)},v.pn=function(){var e=navigator.serviceWorker.controller;return e&&c(e.scriptURL,this.sn)?e:void 0},v.bn=function(){try{var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return d(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},o=a,(l=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&r(o.prototype,l),a}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=o(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}()),g=n("g8Fj"),h=n("ANar"),b=n("Ri7V"),w=n("hwnc"),m=n("EqMp"),y=n("2jR3"),k=n("yCVm"),O=n("hlFt");const j=()=>{return e=new Promise((function(e){Promise.resolve().then(function(t){e(babelHelpers.interopRequireWildcard(n("8sS/")))}.bind(null,n)).catch(n.oe)})),t="service-worker-push-notification-initializer",e.chunkName=t,e;var e,t};async function S(e){const{default:t}=await O.d.postTask(j);return t(e)}var E=n("TWzq"),P=n("D/bq"),T=n("/bk8"),I=n("uky3"),A=n("6xUb"),N={defaultProps:{schema:"com.airbnb.jitney.event.logging.Rookery:RookeryMessagePackageEvent:1.0.0",event_name:"rookery_message_package"},propTypes:{},fullyQualifiedName:"Rookery.v1.RookeryMessagePackageEvent"};var L={RookeryMessagePackageEvent:N},W=n("/74m"),R=n("cVPA"),C=n.n(R);var U=n("6qLf");const x=Object(w.a)("ServiceWorker:Installer",Object(w.b)("rebeccapurple","#fff")),V=Object(E.a)("ServiceWorker:Installer");async function D(e,t={appType:"GLOBAL_TRAVEL",pushNotifications:!1,deliverAppShellExperiment:!1,deliverPreCachingExperiment:!1,datadogTags:""}){var n,i,r,a,o,s;const{deliverAppShellExperiment:c,deliverPreCachingExperiment:u}=t,{force_env:d,force_staging:l,offline:p,sw_workbox_dev_logs:f,utm_source:v}=Object(k.a)();return function(e,t){const n=new URLSearchParams;Object.keys(t).forEach(e=>{const i=t[e];null!=i&&n.append(e,String(i))});const i=String(n);return i.length?`${e}?${i}`:e}(Object(W.default)("is-metro")&&b.a.getBootstrap("metro_prod_sw")?e.replace(/\.js/,`_${C.a.locale()}.js`):e,{deliver_app_shell_experiment:c,deliver_pre_caching_experiment:u,force_staging:l,force_env:d,offline:p,sw_workbox_dev_logs:f,sw_enable_epdp_skeleton:null!==(n=Object(U.a)("sw_enable_epdp_skeleton"))&&void 0!==n?n:b.a.getBootstrap("sw_enable_epdp_skeleton"),sw_enable_offline:null!==(i=Object(U.a)("offline"))&&void 0!==i?i:b.a.getBootstrap("sw_enable_offline")?"":void 0,sw_disable_niobe_cache:null!==(r=Object(U.a)("sw_disable_niobe_cache"))&&void 0!==r?r:b.a.getBootstrap("sw_disable_niobe_cache"),sw_pwa_disable_niobe_cache:null!==(a=Object(U.a)("sw_pwa_disable_niobe_cache"))&&void 0!==a?a:b.a.getBootstrap("sw_pwa_disable_niobe_cache"),sw_pwa_enable_skip_waiting:null!==(o=Object(U.a)("sw_pwa_enable_skip_waiting"))&&void 0!==o?o:b.a.getBootstrap("sw_pwa_enable_skip_waiting"),sw_allow_shell_on_search_verticals:null!==(s=Object(U.a)("sw_allow_shell_on_search_verticals"))&&void 0!==s?s:b.a.getBootstrap("sw_allow_shell_on_search_verticals"),utm_source:v})}const q='skipping start of the service worker due to user opted out, remove your user from "temporarily_disable_service_workers_for_me" to opt back in.';async function z(e,t={appType:"GLOBAL_TRAVEL",pushNotifications:!1,deliverAppShellExperiment:!1,deliverPreCachingExperiment:!1,datadogTags:""}){const{appType:n,datadogTags:i,niobeClient:r,pushNotifications:a}=t,o=await D(e,t),s=new v(o,{updateViaCache:"all"}),c=`Initializing service worker at path: "${e}", see https://air.bb/service-workers for debugging guides.`;x(()=>[c,{pathWithParams:o}]),function(e,t){const{pushNotifications:n}=t;Object(m.c)(async()=>{await e.messageSW({type:"CLEAR_SHELL_CACHE"}),V({metric:"login_and_clear_cache",description:"Any caches storing an app shell have been cleared after login.",options:t}),n&&Object(P.d)()}),Object(m.d)(async()=>{await e.messageSW({type:"CLEAR_SHELL_CACHE"}),V({metric:"logout_and_clear_cache",description:"Any caches storing an app shell have been cleared after logout.",options:t}),Object(P.a)()})}(s,t),s.addEventListener("installed",e=>{V({options:t,metric:"installation"}),e.isUpdate?V({metric:"version_updated",description:"An installed service worker was updated to a new version.",options:t}):V({metric:"first_installation",description:"A new service worker has installed (for the first time)",options:t})}),s.addEventListener("controlling",async()=>{await s.messageSW({type:"FLUSH_MESSAGES"}),V({options:t,metric:"controlling",description:"The service worker is controlling the page, all behavior such as app shells, fetch handlers and push handlers are now ready."})}),s.addEventListener("message",e=>{switch(e.data.type){case"AIRDOG_BUMP":if("string"==typeof e.data.event)V({options:t,metric:"message."+e.data.event});else{const{name:n,count:i,tags:r}=e.data.event;V({count:i,options:t,metric:"message."+n,tags:r})}break;case"LOG_JITNEY_EVENT":g.a.logJitneyEvent({event_data:e.data.eventData,schema:L[e.data.schemaName]});break;case"SW_ERROR":V({description:"An error occurred in the service worker.",options:t,metric:"worker_error"}),Object(y.a)(e.data.error,{tags:{service_worker_error_type:"service_worker.worker_error"}});break;case"NOTIFICATION_CLICKED":V({description:"A push notification was clicked.",options:t,metric:"push_notification_clicked"}),Object(I.a)(e.data.payload)}}),s.addEventListener("activated",async e=>{if(!e.isUpdate&&a){const e=await navigator.serviceWorker.getRegistration();e&&r&&(x(()=>"Initializing push notifications."),await S({serviceWorkerRegistration:e,datadogTags:i,appType:n,niobeClient:r}))}V({description:"The service worker has finished activating.",options:t,metric:"activated_new_version"})}),s.addEventListener("waiting",async()=>{if(await s.messageSW({type:"SKIP_WAITING"}))x(()=>"Manual reload signal in development received, reloading page"),location.reload(!0);else{const e="Automatic service worker activation failed, you may need to hard refresh the page to get the new worker.";x(()=>e)}V({options:t,metric:"waiting_to_install"})});try{const e=await s.register();e&&a&&e.active&&r&&(x(()=>"Initializing push notifications."),S({serviceWorkerRegistration:e,appType:n,datadogTags:i,niobeClient:r})),V({options:t,metric:"registration"})}catch(e){"SecurityError"!==(null==e?void 0:e.name)?V({description:"The service worker failed to install.",options:t,metric:"failed_installation"}):x(()=>["The service worker failed to install due to a SecurityError",e])}}t.default=async(e,t={})=>{if("undefined"==typeof navigator||!navigator.serviceWorker)return;const n="registered_path:"+e,i=Object(A.a)(n),r=Object.assign({},t,{datadogTags:[i,t.datadogTags].filter(Boolean).join(",")});if(!e)return void await async function(e){try{if((await navigator.serviceWorker.getRegistrations()).length){x(()=>"No service worker was registered but one is active, removing and if in development, reloading the page.");try{Object(T.a)({legacyOnly:!1})}finally{0}}}catch(t){"SecurityError"!==(null==t?void 0:t.name)&&V({description:"The service worker failed to uninstall.",options:e,metric:"failed_uninstallation"})}}(r);V({options:r,metric:"initialization_attempt"});const{forceResetServiceWorker:a}=Object(k.a)();if(a)return await Object(T.a)({legacyOnly:!1}),void(window.location.search=window.location.search.replace("forceResetServiceWorker","swResetComplete"));const o=b.a.getBootstrap("temporarily_disable_service_workers_for_me"),s=function(e){return b.a.getBootstrap("disable_all_service_workers")||e}(o),c=await D(e,r);try{await Object(T.a)({legacyOnly:!s,serviceWorkerPath:c,datadogTags:i})}catch(t){s?x(()=>o?q:"service workers are globally disabled, skipping start"):(await z(e,r),Object(h.a)("service_worker.initialization_failed",1,i))}s?x(()=>o?q:"service workers are globally disabled, skipping start"):await z(e,r)}},LrVU:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l}));var i=n("ANar"),r=n("hwnc"),a=n("64oY"),o=n("8sS/"),s=n("1Fup");const c=Object(r.a)("Push:Permissions",Object(r.b)("#b95f6f","#fff"));function u(){return"undefined"!=typeof Notification&&"granted"===Notification.permission}async function d(){if(!Object(a.b)())return!1;if("denied"===Notification.permission)return!1;if("granted"===Notification.permission)return!0;c(()=>"Attempting to request permissions");const e=await Notification.requestPermission(),{datadogTags:t}=await Object(o.getInitializeOptions)();switch(c(()=>"Resulting permission: "+e),e){case"granted":Object(i.a)("service_worker.push_notifications.permission_granted",1,t);break;case"denied":Object(i.a)("service_worker.push_notifications.permission_denied",1,t);break;case"default":Object(i.a)("service_worker.push_notifications.permission_default",1,t)}return"granted"===e}async function l(){return!await async function(){return!!u()&&Object(s.b)()}()&&("undefined"==typeof Notification?(c(()=>"Not showing push notifications since they’re not supported"),!1):"denied"!==Notification.permission||(c(()=>"Not showing push notifications due to not having permission"),!1))}},TWzq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ANar"),r=n("hwnc"),a=n("Ri7V");function o(e,t="service_worker"){const n=Object(r.a)(e,Object(r.b)("rebeccapurple","#fff"));return function({count:e=1,options:r,metric:o,metricPrefix:s,description:c,tags:u}){const{datadogTags:d}=r,l=[d,u].filter(Boolean).join(","),p=null!=s?s:t;Object(i.a)(p+".milestone",e,["metric:"+o,l].join(",")),a.a.getBootstrap("send_legacy_worker_metrics")&&Object(i.a)(`${p}.${o}`,e,l),c&&n(()=>[c,{datadogTags:l,metric:o}])}}}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/service-worker-initializer-acfc3e4b.js.map